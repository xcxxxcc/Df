name: ðŸ”„ Auto Merge Playlist

on:
  # Trigger saat ada commit ke branch main
  push:
    branches: [ main ] 
  workflow_dispatch:
  schedule:
    - cron: '0,30 * * * *' 

permissions: # <--- TAMBAHKAN BAGIAN INI
  contents: write # Memberi izin kepada Action untuk menulis (membuat/mengubah) Gist

jobs:
  pastebin:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - uses: actions/setup-python@v5
      with:
        python-version: '3.x'
    - run: pip install requests
    - name: Run Script and Upload
      # UBAH VARIABEL LINGKUNGAN KE GIST_TOKEN
      env:
        GIST_TOKEN: ${{ secrets.GIST_TOKEN }} 
      run: python merge_and_pastebin.py
      
